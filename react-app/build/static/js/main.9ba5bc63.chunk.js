(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{27:function(e,t,s){},29:function(e,t,s){},36:function(e,t,s){},37:function(e,t,s){},38:function(e,t,s){},39:function(e,t,s){},40:function(e,t,s){},41:function(e,t,s){},42:function(e,t,s){},43:function(e,t,s){},44:function(e,t,s){},45:function(e,t,s){"use strict";s.r(t);var n=s(1),a=s.n(n),i=s(10),c=s.n(i),r=s(2),l=s(8),o=(s(27),s(0));const d=a.a.createContext();function j(e){let{children:t}=e;const s=Object(n.useRef)(),[a,i]=Object(n.useState)(null),[c,r]=Object(n.useState)(null),l={modalRef:s,modalContent:a,setModalContent:i,setOnModalClose:r,closeModal:()=>{i(null),"function"===typeof c&&(r(null),c())}};return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(d.Provider,{value:l,children:t}),Object(o.jsx)("div",{ref:s})]})}function u(){const{modalRef:e,modalContent:t,closeModal:s}=Object(n.useContext)(d);return e&&e.current&&t?c.a.createPortal(Object(o.jsxs)("div",{id:"modal",children:[Object(o.jsx)("div",{id:"modal-background",onClick:s}),Object(o.jsx)("div",{id:"modal-content",children:t})]}),e.current):null}const b=()=>Object(n.useContext)(d);var p=s(15),O=s(19);const h="session/SET_USER",m="session/REMOVE_USER",x=e=>({type:h,payload:e}),f={user:null},v=(e,t)=>async s=>{const n=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})});if(n.ok){const e=await n.json();return s(x(e)),null}if(!(n.status<500))return["An error occurred. Please try again."];{const e=await n.json();if(e.errors)return e.errors}},g=()=>async e=>{(await fetch("/api/auth/logout",{headers:{"Content-Type":"application/json"}})).ok&&e({type:m})},N=(e,t,s)=>async n=>{const a=await fetch("/api/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,email:t,password:s})});if(a.ok){const e=await a.json();return n(x(e)),null}if(!(a.status<500))return["An error occurred. Please try again."];{const e=await a.json();if(e.errors)return e.errors}};const y=e=>{const t={};return e.forEach((e=>t[e.id]=e)),t},C="patients/getAllPatients",w="patients/getSinglePatient",S="patients/putSinglePatient",P="patients/postPatientAddress",A="patients/putPatientAddresss",k="patients/postPatientNote",I="patients/putPatientNote",E=e=>({type:C,patients:e}),_=()=>async e=>{const t=await fetch("/api/patients/");if(t.ok){const{patients:s}=await t.json();e(E(s))}else console.log("Problem loading all patients")},L=e=>async t=>{const s=await fetch(`/api/patients/${e}`);if(s.ok){const{patient:e}=await s.json(),{addresses:n,notes:a}=e;return delete e.addresses,delete e.notes,void t(((e,t,s)=>({type:w,patient:e,addresses:t,notes:s}))(e,n,a))}console.log("Problem loading all patients")},D=e=>async t=>{const s=await fetch(`/api/search?query=${e}`);if(s.ok){const{patients:e}=await s.json();t(E(e))}else console.log("Problem with loading projects with query params")},T=(e,t)=>async s=>{const n=await fetch(`/api/patients/${e}`,{method:"PUT",body:t});if(!n.ok){const{errors:e}=await n.json();return e}{const{edittedPatient:e}=await n.json();s({type:S,patient:e}),delete U.addresses}},R=(e,t)=>async s=>{const n=await fetch(`/api/patients/${e}/address`,{method:"POST",body:t});if(n.ok){const{newAddress:e}=await n.json();return s({type:P,address:e}),void s(_())}{const{errors:e}=await n.json();return e}},M=(e,t,s)=>async n=>{const a=await fetch(`/api/patients/${e}/address/${t}`,{method:"PUT",body:s});var i;if(!a.ok){const{errors:e}=await a.json();return e}{const{edittedAddress:e}=await a.json();n((i=e,{type:A,address:i}))}},$=(e,t)=>async s=>{const n=await fetch(`/api/patients/${e}/note`,{method:"POST",body:t});var a;if(!n.ok){const{errors:e}=await n.json();return e}{const{newNote:e}=await n.json();s((a=e,{type:k,note:a}))}},F=(e,t,s)=>async n=>{const a=await fetch(`/api/patients/${e}/note/${t}`,{method:"PUT",body:s});var i;if(!a.ok){const{errors:e}=await a.json();return e}{const{edittedNote:e}=await a.json();n((i=e,{type:I,note:i}))}},q={allPatients:{},singlePatient:{info:{},notes:{},addresses:{}}},U=function(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,s=arguments.length>1?arguments[1]:void 0;switch(s.type){case C:return{...t,allPatients:{...y(s.patients)}};case w:return{...t,singlePatient:{info:{...s.patient},notes:{...y(s.notes)},addresses:{...y(s.addresses)}}};case S:let n={...t.singlePatient.info};return n=s.patient,{...t,singlePatient:{...t.singlePatient,info:{...n}}};case P:return e={...t},console.log(e),e.singlePatient.addresses[s.address.id]=s.address,console.log(e),e;case A:let a={...t.singlePatient.addresses};return a[s.address.id]=s.address,{...t,singlePatient:{...t.singlePatient,addresses:{...a}}};case k:return e={...t},e.singlePatient.notes[s.note.id]=s.note,e;case I:let i={...t.singlePatient.notes};return i[s.note.id]=s.note,{...t,singlePatient:{...t.singlePatient,notes:{...i}}};default:return t}};var B=U;const V=Object(p.b)({session:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return{user:t.payload};case m:return{user:null};default:return e}},patient:B});let H;H=Object(p.a)(O.a);var J=e=>Object(p.c)(V,e,H),K=s(4);s(29);var W=function(){const e=Object(r.b)(),t=Object(r.c)((e=>e.session.user)),[s,a]=Object(n.useState)(""),[i,c]=Object(n.useState)(""),[l,d]=Object(n.useState)(""),[j,u]=Object(n.useState)(""),[b,p]=Object(n.useState)([]);return t?Object(o.jsx)(K.Redirect,{to:"/"}):Object(o.jsxs)("div",{className:"signup-container",children:[Object(o.jsx)("h1",{className:"signup-heading",children:"Sign Up"}),Object(o.jsxs)("form",{className:"signup-form",onSubmit:async t=>{if(t.preventDefault(),l===j){const t=await e(N(i,s,l));t&&p(t)}else p(["Confirm Password field must be the same as the Password field"])},children:[Object(o.jsx)("ul",{children:b.map(((e,t)=>Object(o.jsx)("li",{className:"signup-error",children:e},t)))}),Object(o.jsxs)("label",{className:"signup-label",children:["Email",Object(o.jsx)("input",{type:"text",value:s,onChange:e=>a(e.target.value),required:!0,className:"signup-input"})]}),Object(o.jsxs)("label",{className:"signup-label",children:["Username",Object(o.jsx)("input",{type:"text",value:i,onChange:e=>c(e.target.value),required:!0,className:"signup-input"})]}),Object(o.jsxs)("label",{className:"signup-label",children:["Password",Object(o.jsx)("input",{type:"password",value:l,onChange:e=>d(e.target.value),required:!0,className:"signup-input"})]}),Object(o.jsxs)("label",{className:"signup-label",children:["Confirm Password",Object(o.jsx)("input",{type:"password",value:j,onChange:e=>u(e.target.value),required:!0,className:"signup-input"})]}),Object(o.jsx)("button",{type:"submit",className:"signup-button",children:"Sign Up"})]})]})},Y=s(14);var G=function(e){let{modalComponent:t,buttonText:s,onButtonClick:n,onModalClose:a}=e;const{setModalContent:i,setOnModalClose:c}=b();return Object(o.jsx)("button",{onClick:()=>{a&&c(a),i(t),n&&n()},children:s})};s(36);s(37);var X=function(e){let{user:t}=e;const s=Object(r.b)(),[a,i]=Object(n.useState)(!1),c=Object(n.useRef)(),l=Object(K.useHistory)();Object(n.useEffect)((()=>{if(!a)return;const e=e=>{c.current.contains(e.target)||i(!1)};return document.addEventListener("click",e),()=>document.removeEventListener("click",e)}),[a]);const d="profile-dropdown"+(a?"":" hidden");return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("button",{className:"profile-button",onClick:()=>{a||i(!0)},children:Object(o.jsx)("i",{className:"fas fa-user-circle"})}),Object(o.jsx)("ul",{className:d,ref:c,children:t?Object(o.jsxs)("ul",{class:"user-info-container",children:[Object(o.jsx)("li",{children:t.username}),Object(o.jsx)("li",{children:t.email}),Object(o.jsx)("li",{children:Object(o.jsx)("button",{class:"logout-button",onClick:e=>{e.preventDefault(),s(g())},children:"Log Out"})})]}):Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("li",{style:{cursor:"pointer"},onClick:()=>l.push("/login"),children:"Login "}),Object(o.jsx)("li",{style:{cursor:"pointer"},onClick:()=>l.push("/signup"),children:"Sign Up "})]})})]})};s(38);var Z=function(e){let{isLoaded:t}=e;Object(r.b)(),Object(Y.useHistory)();const s=Object(r.c)((e=>e.session.user));return Object(o.jsxs)("div",{class:"navbar",children:[Object(o.jsx)("div",{children:Object(o.jsx)(l.b,{exact:!0,to:"/",children:"Home"})}),t&&Object(o.jsx)("div",{class:"profile-button-container",children:Object(o.jsx)(X,{user:s})})]})};s(39);var z=function(){const e=Object(r.b)(),t=Object(r.c)((e=>e.session.user)),[s,a]=Object(n.useState)(""),[i,c]=Object(n.useState)(""),[l,d]=Object(n.useState)([]);return t?Object(o.jsx)(K.Redirect,{to:"/"}):Object(o.jsxs)("div",{className:"loginPage",children:[Object(o.jsx)("p",{className:"login-heading",children:"Log In"}),Object(o.jsxs)("form",{onSubmit:async t=>{t.preventDefault();const n=await e(v(s,i));n&&d(n)},children:[Object(o.jsx)("ul",{children:l.map(((e,t)=>Object(o.jsx)("li",{className:"login-error",children:e},t)))}),Object(o.jsxs)("label",{className:"login-label",children:["Email",Object(o.jsx)("input",{type:"text",value:s,onChange:e=>a(e.target.value),required:!0,className:"login-input"})]}),Object(o.jsxs)("label",{className:"login-label",children:["Password",Object(o.jsx)("input",{type:"password",value:i,onChange:e=>c(e.target.value),required:!0,className:"login-input"})]}),Object(o.jsx)("button",{type:"submit",className:"login-button",children:"Log In"}),Object(o.jsx)("button",{onClick:async t=>{t.preventDefault();const s=await e(v("demo@gmail.com","password"));if(s)return d(s)},className:"demo-button",children:"Demo"})]})]})};var Q=e=>{const t=Object(r.c)((e=>e.session.user));return Object(o.jsx)(K.Route,{...e,children:t?e.children:Object(o.jsx)(K.Redirect,{to:"/login"})})};var ee=function(){const e=Object(r.b)(),t=Object(Y.useHistory)(),[s,a]=Object(n.useState)("");return Object(o.jsxs)("div",{className:"search-bar-container",children:[Object(o.jsx)("input",{type:"search",className:"search-bar",placeholder:"Search for Patients",onChange:async e=>{a(e.target.value)},onKeyDown:async n=>{"Enter"===n.key&&(s.length?await e(D(s)):await e(_()),t.push("/"))}}),Object(o.jsx)("button",{className:"search-button",onClick:async n=>{s.length?await e(D(s)):await e(_()),t.push("/")},children:Object(o.jsx)("i",{class:"icon-search"})})]})};function te(e){return[...e.filter((e=>"active"===e.status.toLowerCase())),...e.filter((e=>"onboarding"===e.status.toLowerCase())),...e.filter((e=>"inquiry"===e.status.toLowerCase())),...e.filter((e=>"churned"===e.status.toLowerCase()))]}function se(e,t){let s=(null===t||void 0===t?void 0:t.city)||[],n=(null===t||void 0===t?void 0:t.state)||[],a=(null===t||void 0===t?void 0:t.status)||[],i=e;return s.length&&(i=i.filter((e=>s.includes(e.addresses[0].city)))),n.length&&(i=i.filter((e=>n.includes(e.addresses[0].state)))),a.length&&(i=i.filter((e=>a.includes(e.status)))),console.log("filtered......................",i),console.log("city......................",s),console.log("state......................",n),console.log("status......................",a),i}var ne=function(e){let{patients:t,setFilter:s,filters:a,setFilteredPatients:i}=e;Object(r.b)();const[c,l]=Object(n.useState)(!1),[d,j]=Object(n.useState)(!1),[u,b]=Object(n.useState)(!1),p=Object(r.c)((e=>e.patient.allPatients));let O=function(e){let t={status:{},city:{},state:{}};for(let s of e){let e=s.status;e in t.status?t.status[e]+=1:t.status[e]=1;let n=s.addresses[0].state,a=s.addresses[0].city;n in t.state?t.state[n]+=1:t.state[n]=1,a in t.city?t.city[a]+=1:t.city[a]=1}return t}(t);const h=e=>{const[n,c]=e.target.value.split(","),r={...a};r[n].push(c),s(r),i(se(t,a))},m=e=>{const[n,c]=e.target.value.split(","),r={...a};r[n].splice(c,1),s(r),Object.values(a).flat().length?i(se(t,a)):i(te(Object.values(p)))},x=e=>{e((e=>!e))},f=(e,t)=>{t?(i(te(Object.values(p))),e(!t)):e(!t)};return Object(o.jsx)("div",{children:Object(o.jsxs)("div",{className:"filter-container",children:[Object(o.jsxs)("div",{children:[Object(o.jsx)("button",{className:"filter-button "+(c?"active":""),onClick:()=>{x(l),f(l,c)},children:"State"}),Object(o.jsx)("div",{className:"filter-dropdown-content",children:c&&Object.entries(O.state).map((e=>{let[t,s]=e;return Object(o.jsxs)("label",{children:[Object(o.jsx)("input",{type:"checkbox",value:["state",t],onChange:e=>{e.target.checked?h(e):m(e)}}),`${t}(${s})`]},`${t}`)}))})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("button",{className:"filter-button "+(d?"active":""),onClick:()=>{x(j),f(j,d)},children:"City"}),Object(o.jsx)("div",{className:"filter-dropdown-content",children:d&&Object.entries(O.city).map((e=>{let[t,s]=e;return Object(o.jsxs)("label",{children:[Object(o.jsx)("input",{type:"checkbox",value:["city",t],onChange:e=>{e.target.checked?h(e):m(e)}}),`${t}(${s})`]},`${t}`)}))})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("button",{className:"filter-button "+(u?"active":""),onClick:()=>{x(b),f(b,u)},children:"Status"}),Object(o.jsx)("div",{className:"filter-dropdown-content",children:u&&Object.entries(O.status).map((e=>{let[t,s]=e;return Object(o.jsxs)("label",{children:[Object(o.jsx)("input",{type:"checkbox",value:["status",t],onChange:e=>{e.target.checked?h(e):m(e)}}),`${t}(${s})`]},`${t}`)}))})]})]})})};let ae=["AL","AK","AS","AZ","AR","CA","CO","CT","DE","DC","FM","FL","GA","GU","HI","ID","IL","IN","IA","KS","KY","LA","ME","MH","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","MP","OH","OK","OR","PW","PA","PR","RI","SC","SD","TN","TX","UT","VT","VI","VA","WA","WV","WI","WY"];var ie=function(e){let{patientId:t,setAddNote:s,setEditNote:a,edittedNote:i,intialNote:c,noteList:l,index:d,handleNoteListRemove:j,handleNoteListChange:u}=e;const b=Object(r.b)(),[p,O]=Object(n.useState)((null===i||void 0===i?void 0:i.title)||""),[h,m]=Object(n.useState)((null===i||void 0===i?void 0:i.text)||""),[x,f]=Object(n.useState)({}),[v,g]=Object(n.useState)(!1);return Object(n.useEffect)((()=>{const e={};p.length>100&&(e.title="Title must be under 100 characthers"),h.trim().length||(e.text="Text is Required"),f(e)}),[h,p]),Object(o.jsxs)("div",{className:""+(l?"":"input-form-container"),children:[v&&Object(o.jsx)("span",{className:"error-message",children:x.title}),Object(o.jsxs)("label",{children:["Title",Object(o.jsx)("input",{className:"form-input",name:"title",type:"text",value:l?c.title:p,onChange:e=>{!l&&O(e.target.value),l&&u(e,d)}})]}),v&&Object(o.jsx)("span",{className:"error-message",children:x.text}),Object(o.jsxs)("label",{children:["Text",Object(o.jsx)("input",{className:"form-input",name:"text",type:"text",value:l?c.text:h,onChange:e=>{!l&&m(e.target.value),l&&u(e,d)}})]}),Object(o.jsxs)("div",{className:"button-container",children:[!l&&Object(o.jsx)("button",{className:"form-button",onClick:async e=>{if(e.preventDefault(),g(!0),Object.values(x).length)return;const n=new FormData;n.append("title",p),n.append("text",h);const c=await b(i?F(t,i.id,n):$(t,n));c?f(c.errors):i?a(!1):s(!1)},type:"submit",children:i?"Edit":"Add"}),Object(o.jsx)("button",{className:"form-button",onClick:()=>{i&&a(!1),!l&&!i&&s(!1),l&&j(d)},children:l?"Remove":"Cancel"})]})]})};var ce=function(e){let{noteList:t,setNoteList:s,patientId:n}=e;const a=(e,n)=>{const a=[...t];a.splice(e,1),s(a)},i=(e,n)=>{const{value:a,name:i}=e.target,c=[...t];c[n][i]=a,s(c)};return Object(o.jsxs)(o.Fragment,{children:[t.length>=1&&Object(o.jsx)("h4",{children:"Add Notes"}),t.map(((e,t)=>Object(o.jsx)(ie,{patientId:n,noteList:!0,handleNoteListRemove:a,handleNoteListChange:i,index:t,intialNote:e}))),Object(o.jsx)("hr",{}),t.length<=1&&Object(o.jsx)("button",{className:"form-button",onClick:e=>{e.preventDefault(),s([...t,{}])},children:"Add Note"})]})};s(40);var re=function(e){let{patientId:t,addAddressBool:s,setAddAddress:a,editAddressBool:i,setEditAddress:c,editAddresVals:l,editPatientBool:d,setEditPatient:j,editPatientVals:u}=e;const p=Object(r.b)(),{closeModal:O}=b(),[h,m]=Object(n.useState)((null===u||void 0===u?void 0:u.first_name)||""),[x,f]=Object(n.useState)((null===u||void 0===u?void 0:u.last_name)||""),[v,g]=Object(n.useState)((null===u||void 0===u?void 0:u.middle_name)||""),[N,y]=Object(n.useState)((e=>{if(!e)return;return new Date(e).toISOString().split("T")[0]})(null===u||void 0===u?void 0:u.date_of_birth)||""),[C,w]=Object(n.useState)(["Inquiry","Onboarding","Active","Churned"].indexOf(null===u||void 0===u?void 0:u.status)+1||""),[S,P]=Object(n.useState)((null===l||void 0===l?void 0:l.address)||""),[A,k]=Object(n.useState)((null===l||void 0===l?void 0:l.city)||""),[I,E]=Object(n.useState)((null===l||void 0===l?void 0:l.state)||""),[_,D]=Object(n.useState)(null===l||void 0===l?void 0:l.current),[F,q]=Object(n.useState)([]),[U,B]=Object(n.useState)({}),[V,H]=Object(n.useState)(!1),J=Object(r.c)((e=>e.session.user)),K=Object(r.c)((e=>e.patient.singlePatient.addresses));let W=Object.values(K).filter((e=>!0===e.current)).length;return Object(n.useEffect)((()=>{const e={};s||i||h.length||(e.firstName="First Name is Required"),s||i||x.length||(e.lastName="Last Name is Required"),d||S.length||(e.address="Address is Requried"),d||ae.includes(I)||(e.state="Invalid State"),d||I.length||(e.state="State is Required"),d||A.length||(e.city="City is Required"),!d&&A.length<3&&(e.city="Invalid City"),!d&&A.length>50&&(e.city="Invalid City"),i&&!_&&W<2&&(e.current="Must have at least one Current Address"),s||i||C&&"Select a Status"!==C||(e.status="Invalid Status"),s||i||N||(e.birthday="Birthday is required."),!s&&!i&&new Date(N)>Date.now()&&(e.birthday="Invalid Birthday"),B(e)}),[h,x,v,N,C,S,I,A,_,F]),console.log(C),Object(o.jsxs)("form",{className:""+(s|i|d?"input-form-container":"form-container"),onSubmit:async e=>{if(e.preventDefault(),H(!0),Object.values(U).length)return;const s=new FormData;s.append("first_name",h),s.append("last_name",x),v&&s.append("middle_name",v),s.append("date_of_birth",N),s.append("status_id",C),s.append("provider_id",J.id);const n=new FormData;n.append("address",S),n.append("state",I),n.append("city",A),n.append("isCurrent",!0);let a=[];F.forEach((e=>{const t=new FormData;t.append("title",e.title),t.append("text",e.text),a.push(t)}));const i=await p(((e,t,s)=>async n=>{const a=await fetch("/api/patients/",{method:"POST",body:e});if(!a.ok){const{errors:e}=await a.json();return e}{const{new_patient:e}=await a.json();n(R(e.id,t)),s.forEach((t=>{n($(e.id,t))}))}})(s,n,a));i?(B(i.errors),p(L(t))):O()},children:[s||i?"":Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("h2",{className:"form-heading",children:"Please enter the following information"}),V&&Object(o.jsx)("span",{className:"error-message",children:U.firstName}),Object(o.jsxs)("label",{className:"form-label",children:["First Name",Object(o.jsx)("input",{type:"text",value:h,onChange:e=>m(e.target.value),className:"form-input"})]}),V&&Object(o.jsx)("span",{className:"error-message",children:U.middleName}),Object(o.jsxs)("label",{className:"form-label",children:["Middle Name ",Object(o.jsx)("span",{className:"optional-text",children:"(optional)"}),Object(o.jsx)("input",{type:"text",value:v,onChange:e=>g(e.target.value),className:"form-input"})]}),V&&Object(o.jsx)("span",{className:"error-message",children:U.lastName}),Object(o.jsxs)("label",{className:"form-label",children:["Last Name",Object(o.jsx)("input",{type:"text",value:x,onChange:e=>f(e.target.value),className:"form-input"})]}),V&&Object(o.jsx)("span",{className:"error-message",children:U.birthday}),Object(o.jsxs)("label",{className:"form-label",children:["Date of Birth",Object(o.jsx)("input",{type:"date",value:N,onChange:e=>y(e.target.value),className:"form-input"})]}),V&&Object(o.jsx)("span",{className:"error-message",children:U.status}),Object(o.jsxs)("label",{className:"form-label",children:["Status",Object(o.jsxs)("select",{value:C,onChange:e=>w(e.target.value),children:[Object(o.jsx)("option",{default:!0,children:"Select a Status"}),Object(o.jsx)("option",{value:"1",children:"Inquiry"}),Object(o.jsx)("option",{value:"2",children:"Onboarding"}),Object(o.jsx)("option",{value:"3",children:"Active"}),Object(o.jsx)("option",{value:"4",children:"Churned"})]})]})]}),i||d?"":Object(o.jsx)("h4",{children:" Please Enter Your Current Address"}),!d&&Object(o.jsxs)(o.Fragment,{children:[V&&Object(o.jsx)("span",{className:"error-message",children:U.address}),Object(o.jsxs)("label",{className:"form-label",children:["Street",Object(o.jsx)("input",{className:"form-input",type:"text",value:S,onChange:e=>P(e.target.value)})]}),V&&Object(o.jsx)("span",{className:"error-message",children:U.city}),Object(o.jsxs)("label",{className:"form-label",children:["City",Object(o.jsx)("input",{className:"form-input",type:"text",value:A,onChange:e=>k(e.target.value)})]}),V&&Object(o.jsx)("span",{className:"error-message",children:U.state}),Object(o.jsxs)("label",{className:"form-label",children:["State",Object(o.jsx)("input",{className:"form-input",type:"text",value:I.toUpperCase(),onChange:e=>E(e.target.value.toUpperCase())})]})]}),i&&Object(o.jsxs)(o.Fragment,{children:[V&&Object(o.jsx)("span",{className:"error-message",children:U.current}),Object(o.jsxs)("label",{className:"form-label",children:["Current",Object(o.jsx)("input",{className:"form-input",type:"checkbox",value:_,checked:_,onChange:e=>{D(!_)}})]})]}),s||i||d?Object(o.jsxs)("div",{className:"button-container",children:[Object(o.jsx)("button",{className:"form-button",onClick:d?async e=>{if(e.preventDefault(),H(!0),Object.values(U).length)return;const s=new FormData;s.append("first_name",h),s.append("last_name",x),v&&s.append("middle_name",v),s.append("date_of_birth",N),s.append("status_id",C),s.append("patient_id",t),s.append("provider_id",J.id);const n=await p(T(t,s));n?B(n):j(!1)}:async e=>{if(e.preventDefault(),H(!0),Object.values(U).length)return;const n=new FormData;n.append("address",S),n.append("state",I),n.append("city",A),n.append("isCurrent",_);const r=await p(i?M(t,l.id,n):R(t,n));r?B(r.errors):(s&&a(!1),i&&c(!1))},children:s?"Add":"Edit"}),Object(o.jsx)("button",{className:"form-button",onClick:()=>{s&&a(!1),i&&c(!1),d&&j(!1)},children:"Cancel"})]}):"",!s&&!i&&!d&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(ce,{noteList:F,setNoteList:q,patientId:t}),Object(o.jsx)("button",{className:"form-submit",type:"submit",children:"Submit"})]})]})};var le=function(e){let{patients:t}=e,s=t.map((e=>Object(o.jsxs)("li",{className:"patient-card "+("inquiry"===e.status.toLowerCase()||"onboarding"===e.status.toLowerCase()?"status-inquiry":"active"===e.status.toLowerCase()?"status-active":"churned"===e.status.toLowerCase()?"status-churned":""),children:[Object(o.jsxs)("div",{className:"patient-info",children:[Object(o.jsx)(l.b,{to:`/patients/${e.id}`,children:Object(o.jsxs)("p",{className:"patient-name",children:[e.last_name,(null===e||void 0===e?void 0:e.middle_name)&&` ${e.middle_name}`,", ",e.first_name]})}),Object(o.jsxs)("p",{className:"patient-address",children:[e.addresses[0].city," ",e.addresses[0].state]})]}),Object(o.jsx)("div",{className:"patient-status",children:Object(o.jsx)("p",{children:e.status})})]},`${e.id}`)));return Object(o.jsxs)("div",{className:"patient-grid",children:[s,Object(o.jsx)("li",{className:"add-patient-button",children:Object(o.jsx)(G,{buttonText:Object(o.jsxs)("span",{className:"add-button-text",children:[Object(o.jsx)("i",{className:"icon-plus"})," Add Patient"]}),modalComponent:Object(o.jsx)(re,{})})})]})};s(41);var oe=()=>Object(o.jsx)("div",{className:"loading-container",children:Object(o.jsx)("div",{className:"loading-shimmer"})});s(42);var de=function(){const e=Object(r.b)(),[t,s]=Object(n.useState)(!0),[a,i]=Object(n.useState)({status:[],city:[],state:[]}),[c,l]=Object(n.useState)([]),d=Object(r.c)((e=>e.patient.allPatients)),j=Object(r.c)((e=>e.session.user));Object(n.useEffect)((()=>{e(_()),setTimeout((()=>{s(!1)}),1e3)}),[e]);let u=te(Object.values(d));return t?Object(o.jsx)(oe,{}):Object(o.jsxs)("div",{className:"component-container",children:[Object(o.jsx)("div",{className:"component-title",children:Object(o.jsxs)("p",{children:[j.username,"'s Patients"]})}),Object(o.jsxs)("div",{className:"filter-container",children:[Object(o.jsx)(ee,{}),Object(o.jsx)(ne,{patients:c.length?c:u,setFilter:i,setFilteredPatients:l,filters:a})]}),Object(o.jsx)("ul",{className:"component-list",children:Object(o.jsx)("ul",{className:"component-list-item",children:Object(o.jsx)(le,{patients:c.length?c:u,filters:a,filteredPatients:c})})})]})};var je=function(e){let{patientId:t,edit:s,setEdit:n,address:a}=e;return Object(o.jsx)(re,{editAddressBool:s,setEditAddress:n,editAddresVals:a,patientId:t})};var ue=function(e){let{address:t,patientId:s}=e;const[a,i]=Object(n.useState)(!1);return a?Object(o.jsx)(je,{edit:a,setEdit:i,address:t,patientId:s}):Object(o.jsxs)("li",{style:{listStyle:"none"},className:"address-list-item",children:[Object(o.jsxs)("div",{className:"address-left",children:[Object(o.jsxs)("div",{className:"address-details",children:[Object(o.jsxs)("p",{children:["Street: ",t.address]}),Object(o.jsxs)("p",{children:["City: ",t.city]}),Object(o.jsxs)("p",{children:["State: ",t.state.toUpperCase()]})]}),t.current?Object(o.jsxs)("p",{children:[Object(o.jsx)("span",{className:"green-dot"}),"Current"]}):Object(o.jsxs)("p",{children:[Object(o.jsx)("span",{className:"red-dot"}),"Not Current"]})]}),Object(o.jsx)("div",{className:"address-right",children:Object(o.jsx)("button",{className:"address-button",onClick:()=>i(!0),children:Object(o.jsx)("i",{className:"fas fa-edit"})})})]},`address${t.id}`)};const be=e=>{if(!e)return;return new Date(e).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric"})};var pe=function(e){let{setEditNote:t,edittedNote:s,patientId:n}=e;return Object(o.jsx)(ie,{setEditNote:t,edittedNote:s,patientId:n})};var Oe=function(e){let{patientId:t,note:s}=e;const[a,i]=Object(n.useState)(!1);return a?Object(o.jsx)(pe,{setEditNote:i,edittedNote:s,patientId:t}):Object(o.jsxs)("li",{style:{listStyle:"none"},className:"notes-list-item",children:[Object(o.jsxs)("div",{className:"notes-top",children:[Object(o.jsxs)("div",{className:"notes-left",children:[Object(o.jsx)("p",{className:"note-title",children:s.title}),Object(o.jsx)("p",{className:"note-date",children:be(s.created_at)})]}),Object(o.jsx)("div",{className:"notes-right",children:Object(o.jsx)("button",{className:"notes-button",onClick:()=>i(!0),children:Object(o.jsx)("i",{className:"fas fa-edit"})})})]}),Object(o.jsx)("div",{className:"notes-bottom",children:Object(o.jsx)("p",{className:"note-text",children:s.text})})]},`notes${s.id}`)};var he=function(e){let{patientId:t,addAddress:s,setAddAddress:n}=e;return Object(o.jsx)(re,{setAddAddress:n,addAddressBool:s,patientId:t})};var me=function(e){let{edit:t,setEditPatient:s,edittedPatient:n,patientId:a}=e;return s(!0),Object(o.jsx)(re,{editPatientBool:t,setEditPatient:s,editPatientVals:n,patientId:a})};var xe=function(e){let{patient:t}=e;const[s,a]=Object(n.useState)(!1);return s?Object(o.jsx)(me,{edit:s,setEditPatient:a,edittedPatient:t,patientId:t.id}):Object(o.jsxs)("div",{className:"patient-info-container",children:[Object(o.jsx)("div",{className:"patient-name-section",children:Object(o.jsxs)("div",{className:"patient-name",children:[Object(o.jsxs)("h3",{children:[t.first_name,(null===t||void 0===t?void 0:t.middle_name)&&` ${t.middle_name}`," ",t.last_name]}),Object(o.jsx)("div",{className:"patient-status",children:t.status})]})}),Object(o.jsx)("div",{className:"patient-dob-section",children:Object(o.jsxs)("p",{className:"patient-dob-text",children:["Date of Birth: ",be(t.date_of_birth)]})}),Object(o.jsx)("button",{className:"edit-button",onClick:()=>a(!0),children:Object(o.jsx)("i",{className:"fas fa-edit"})})]})};s(43);var fe=function(){const e=Object(r.b)(),{id:t}=Object(K.useParams)(),s=Object(K.useHistory)(),a=Object(r.c)((e=>e.patient.singlePatient)),[i,c]=Object(n.useState)(!0),[l,d]=Object(n.useState)(!1),[j,u]=Object(n.useState)(!1);return Object(n.useEffect)((()=>{e(L(t)),setTimeout((()=>{c(!1)}),1e3)}),[e,t]),i?Object(o.jsx)(oe,{}):(a.info.id||s.push("/"),Object(o.jsxs)("div",{className:"main-container",children:[Object(o.jsx)("div",{className:"patient-info",children:Object(o.jsx)(xe,{patient:a.info})}),Object(o.jsxs)("div",{className:"address-notes-section",children:[Object(o.jsxs)("div",{className:"address-section",children:[Object(o.jsx)("h3",{children:" Addresss "}),Object(o.jsxs)("ul",{children:[Object.values(a.addresses).sort(((e,t)=>e.current===t.current?0:e?1:-1)).map((e=>Object(o.jsx)(ue,{address:e,patientId:a.info.id}))),l?Object(o.jsx)(he,{setAddAddress:d,addAddress:l,patientId:a.info.id}):Object(o.jsxs)("button",{className:"form-button",onClick:()=>{d(!0)},children:[Object(o.jsx)("i",{class:"icon-plus"})," Add Patient Address"]})]})]}),Object(o.jsxs)("div",{className:"notes-section",children:[Object(o.jsx)("h3",{children:"Notes"}),Object(o.jsxs)("ul",{children:[Object.values(a.notes).map((e=>Object(o.jsx)(Oe,{note:e,patientId:a.info.id}))),j?Object(o.jsx)(ie,{setAddNote:u,patientId:a.info.id}):Object(o.jsxs)("button",{className:"form-button",onClick:()=>{u(!0)},children:[Object(o.jsx)("i",{class:"icon-plus"})," Add Patient Note"]})]})]})]})]}))};var ve=function(){const e=Object(r.b)(),[t,s]=Object(n.useState)(!1);return Object(n.useEffect)((()=>{e((async e=>{const t=await fetch("/api/auth/",{headers:{"Content-Type":"application/json"}});if(t.ok){const s=await t.json();if(s.errors)return;e(x(s))}})).then((()=>s(!0)))}),[e]),Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(Z,{isLoaded:t}),t&&Object(o.jsxs)(K.Switch,{children:[Object(o.jsx)(K.Route,{path:"/login",children:Object(o.jsx)(z,{})}),Object(o.jsx)(K.Route,{path:"/signup",children:Object(o.jsx)(W,{})}),Object(o.jsx)(Q,{exact:!0,path:"/",children:Object(o.jsx)(de,{})}),Object(o.jsx)(Q,{exact:!0,path:"/patients/:id",children:Object(o.jsx)(fe,{})}),Object(o.jsx)(Q,{exact:!0,path:"/test",children:Object(o.jsx)(ce,{})})]})]})};s(44);const ge=J();function Ne(){return Object(o.jsx)(j,{children:Object(o.jsx)(r.a,{store:ge,children:Object(o.jsxs)(l.a,{children:[Object(o.jsx)(ve,{}),Object(o.jsx)(u,{})]})})})}c.a.render(Object(o.jsx)(a.a.StrictMode,{children:Object(o.jsx)(Ne,{})}),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.9ba5bc63.chunk.js.map